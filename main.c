#include "gamelib.h"

int main()
{

  int numero;
  bool gioco_impostato=0;

  system("clear");

  printf("+--------------------------------------------------------------------------------------------------------------------------------------------------+\n");
  printf("|                       DISCLAIMER: utilizzare il terminale in modalità schermo intero per evitare problemi grafici...                             |\n");
  printf("+--------------------------------------------------------------------------------------------------------------------------------------------------+\n");

  sleep(2);
  system("clear");

  printf("\n");
  printf("\n");
  printf("   ▄███████▄    ▄█    █▄       ▄████████  ▄█          ▄████████  ▄██████▄          ▄███████▄    ▄█    █▄     ▄██████▄  ▀█████████▄   ▄█     ▄████████ ");
  printf("\n");
  printf("  ███    ███   ███    ███     ███    ███ ███         ███    ███ ███    ███        ███    ███   ███    ███   ███    ███   ███    ███ ███    ███    ███ ");
  printf("\n");
  printf("  ███    ███   ███    ███     ███    ███ ███         ███    █▀  ███    ███        ███    ███   ███    ███   ███    ███   ███    ███ ███▌   ███    ███ ");
  printf("\n");
  printf("  ███    ███  ▄███▄▄▄▄███▄▄   ███    ███ ███         ███        ███    ███        ███    ███  ▄███▄▄▄▄███▄▄ ███    ███  ▄███▄▄▄██▀  ███▌   ███    ███ ");
  printf("\n");
  printf("▀█████████▀  ▀▀███▀▀▀▀███▀  ▀███████████ ███       ▀███████████ ███    ███      ▀█████████▀  ▀▀███▀▀▀▀███▀  ███    ███ ▀▀███▀▀▀██▄  ███▌ ▀███████████ ");
  printf("\n");
  printf("  ███          ███    ███     ███    ███ ███                ███ ███    ███        ███          ███    ███   ███    ███   ███    ██▄ ███    ███    ███ ");
  printf("\n");
  printf("  ███          ███    ███     ███    ███ ███▌    ▄    ▄█    ███ ███    ███        ███          ███    ███   ███    ███   ███    ███ ███    ███    ███ ");
  printf("\n");
  printf(" ▄████▀        ███    █▀      ███    █▀  █████▄▄██  ▄████████▀   ▀██████▀        ▄████▀        ███    █▀     ▀██████▀  ▄█████████▀  █▀     ███    █▀  ");
  printf("\n");
  printf("\n");

  sleep(3);

/*  printf("+--------------------------------------------------------------------------------------------------------------------------------------------------+\n");
  printf("|                                                     Premi invio per accedere al menù                                                             |\n");
  printf("+--------------------------------------------------------------------------------------------------------------------------------------------------+\n");

 (getchar() != '\n');
 */

do {
    system("clear");
    printf("+--------------------------------------------------------------------------------------------------------------------------------------------------+\n");
    printf("|                                                          BENVENUTO IN PHALSOPHOBIA!                                                              |\n");
    printf("+--------------------------------------------------------------------------------------------------------------------------------------------------+\n");

    sleep(1);
    printf("\n");
    printf("+--------------------------------------------------------------------------------------------------------------------------------------------------+\n");
    printf("|                                       Un team di investigatori del paranormale viene contrattualizzato per                                       |\n");
    printf("|                                       raccogliere prove sulle presenze che si aggirano in luoghi infestati...                                    |\n");
    printf("|                                        Riusciranno a capire di che fantasma si tratta prima di impazzire?                                        |\n");
    printf("+--------------------------------------------------------------------------------------------------------------------------------------------------+\n");
    printf("\n");
    printf("\n");
    printf("+--------------------------------------------------------------------------------------------------------------------------------------------------+\n");
    printf("|                                                                                                                                                  |\n");
    printf("|                                                      - Premi 1 per impostare il gioco!                                                           |\n");
    printf("|                                                                                                                                                  |\n");
    printf("|                                                                                                                                                  |\n");
    printf("|                                                                                                                                                  |\n");
    printf("|                                                      - Premi 2 per iniziare il gioco!                                                            |\n");
    printf("|                                                                                                                                                  |\n");
    printf("|                                                                                                                                                  |\n");
    printf("|                                                                                                                                                  |\n");
    printf("|                                                      - Premi 3 per terminare il gioco!                                                           |\n");
    printf("|                                                                                                                                                  |\n");
    printf("+--------------------------------------------------------------------------------------------------------------------------------------------------+\n");
    printf("\n");
    sleep(1);
    printf("RICORDA: è possibile impostare il gioco più volte di fila prima di giocare, mentre non si può giocare se prima non è stato impostato il gioco!\n\n");
    scanf("%d", &numero);

    system("clear");
    getchar();
    switch(numero)
    {
      case 1:
      printf("+--------------------------------------------------------------------------------------------------------------------------------------------------+\n");
      printf("|                                             Hai selezionato 1, puoi procedere a impostare il gioco!                                              |\n");
      printf("+--------------------------------------------------------------------------------------------------------------------------------------------------+\n");
      sleep(1);
      system("clear");
      imposta_gioco();
      gioco_impostato=1;
      break;

      case 2:
      if(gioco_impostato == 0){
        break;
      }
      printf("+--------------------------------------------------------------------------------------------------------------------------------------------------+\n");
      printf("|                                                Hai selezionato 2, ora inizierà il gioco!                                                         |\n");
      printf("+--------------------------------------------------------------------------------------------------------------------------------------------------+\n");
      sleep(1);
      system("clear");
      gioca();
      gioco_impostato = 0;
      break;

      case 3:
      printf("+--------------------------------------------------------------------------------------------------------------------------------------------------+\n");
      printf("|                                               Hai selezionato 3, il gioco è ora terminato...                                                     |\n");
      printf("+--------------------------------------------------------------------------------------------------------------------------------------------------+\n");
      termina_gioco();
      break;

      default:
      printf("+--------------------------------------------------------------------------------------------------------------------------------------------------+\n");
      printf("|                                                  Oops... seleziona un numero da 1 a 3:                                                           |\n");
      printf("+--------------------------------------------------------------------------------------------------------------------------------------------------+\n");
      sleep(1);
      system("clear");
      break;
      }
  }while ((numero ==1) || (numero == 2) || ( numero != 1 && numero != 2 && numero != 3)); //(numero == 2 && gioco_impostato==0)




  return 0;
}
